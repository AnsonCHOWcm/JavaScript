<html>
    <head>
        <meta charset="UTF-8">
        <title>JavaScript-Notes</title>
    </head>
    <body>
        <h1>JavaScript</h1>
        <a href="homepage.html">Home Page</a>
        <a href="notes.html">Notes</a>
        <a href="passenger_counter_app.html">Proj 1 passenger counter app</a>
        <a href="backjack_game.html">Proj 2 Backjack</a>
        <a href="chrome_ext.html">Proj 3 Chrome Extension</a>
        <a href="async.html">Async Test</a>
        <a href="test.html">Test</a>
        <br>
        <h2>Using JavaScript in HTML and JS File</h2>
        <ol>
            <li>Using JavaScript in HTML</li>
            <p>All the JavaScript Code is typed in the tag "<"script">" CODE "<"\script">"</p>
            <li>JS File</li>
            <p>Like CSS, we can create JS file and include all the JS code and then link it into the html via "<" script src = "JS FILE PATH" ">"</p>
        </ol>
        <h2>Accessing HTML elements in JavaScript</h2>
        <p>Syntax : document.getElementByXXX("")
            <br>
            To JavaSript, HTML is a document object which allow developers to modify the content in it (DOM)
            <br>
            Both ".innertext" and "textContent" are about the text of the element
            <br>
            (latter one would also show the content human do not see like space)
        </p>
        <h2>Variable Declaration</h2>
        <p>Syntax : let VARIABLENAME = ASSIGN VALUE</p>
        <p>***To check the value of a variable, we may use console to check it
            <br>
            Syntax : console.log(VARIABLENAME)
        </p>
        <h2>Constant Declaration</h2>
        <p>similar to variable, we can create a constant value but its value cannot be changed
            <br>
            Syntax : const CONST_NAME = ASSIGN VALUE
        </p>
        <h2>Function Declaration</h2>
        <p>Syntax : function FUNCNAME(){BODY}
            <br>
            Function can be called by its name or insert it in the tag attribute as trigger condition
        </p>
        <h2>If...else if...else Statment</h2>
        <p>Syntax : if (COND) {} else if (COND) {} else{}</p>
        <h2>For loop</h2>
        <p>Syntax : for (let i < START; i < END; i +/- = STEP_SIZE)</p>
        <h2>Object</h2>
        <p>JavaScript allow user-define object datatype
            <br>
            There are two elements in an object : Attribute and Methods
        </p>
        <p>Syntax
            <br>
            let CLASS {
            <br>
            ATTRIBUTES_1 : VALUE,
            <br>
            ATTRIBUTES_2 : VALUE,   
            <br>
            METHOD_1: function () {BODY} 
            <br>
            } 
        </p>
        <h2>HTML Element Attribute : addEventListener</h2>
        <p>Developer can assign some function to a HTML element when some actions of users are fulfilled</p>
        <p>Syntax:
            <br>
            (1) Get the element from HTML to JS : ElObj = documentElementByID("XXX")
            <br>
            (2) Setting the trigger condition and result : ElObj.addEventListener(ACTION, RESULT)
        </p>
        <h2>Async Function and Fetch</h2>
        <p>(1) Async Function
            <br>
            It is very common to have a function chain
            <br>
            It means an input of one function depends on an output of another
            <br>
            Sometime people would just pass another function declaration as argument (maybe we dont want to create a function or variable for that)
            <br>
            This would cause "Callback Hell"
            <br>
        </p>
        <p>
            Example
            <br>
            <img src="/img/callback_hell.jpg" alt="callback_hell">
        </p>
        <p>
            Solution:
            <br>
            Promise
            <br>
            It has 3 three states : Pending, Fulfilled, Rejected
        </p>
        <p>
            Syntax
            <br>
            const myPromise = new Promise((resolve, reject) => {
            <br>    
                let error = false;
            <br>
                FUNCTION LOGIC DETERMINE error;
            <br>
                if(!error){
            <br>
                  resolve(FUNCTION CALLED AFTER RESOLVED);
            <br>
                } else {
            <br>
                reject(FUNCTION CALLED AFTER REJECTED)};
            <br>
                });
            <br>
            <br>
            myPromise.then(value => {
            <br>
                SECOND FUNCTION AFTER RESOLVED;
            <br>
            })
            <br>
            .then(value => {
            <br>
                THIRD FUNCTION AFTER RESOLVED;
            <br>
            })
            <br>
            .catch(err =>{
            <br>
                SECOND FUNCTION AFTER RESOLVED;
            <br>
            })
        </p>
        <p>Promise is a class, we would create an new object for each async function
            <br>
            It has 2 outcome : resolve and reject
            <br>
            we use resolve to execute the function after current function is finished
            <br>
            we use reject to execute the function after current function cannot be finished
            <br>
            Then we can use the method "then" to continue the function chain recurrsively
            <br>
            Or we can use the method "catch" to execute the exception (fail to run) function and print error warning
        </p>
        <h2>Fetch</h2>
        It is an API to get data from a url and allow user specification on the request via object
        <br>
        Syntax : fetch(URL, OBJECT(method : XXX, headers: XXX, body: XXX))
        <br>
        It also has method "then" to execute next function/next step
        <br>
        Beisdes, the return value from fetch is JSON type, we need to execute the method of the response called "json()" to retrieve the data
        <br>
        To access the data inside, we may use the method "map" of JSON Data and define a function within it
        <br>
        Syntax : const VARIABLE_NAME = JSON_DATA.map(user => {user.ATTRIBUTE})
        <br>
        ***Fetch itself is a promise
        <h2>Async, Await</h2>
        <p>
            Async : it is used in function declaration with the effect of making the function return a promise (.then/.catch can be used)
            <br>
            Syntax : const FUNC_NAME = async() => {BODY}
        </p>
        <p>
            Await : It can only be used within async function and before the promise as attribute
            <br>
            The function execution would be pasued at await line and wait for the promise to be settle 
            <br>
            while at the same time the program would execute next line outside the function
            <br>
            Syntax : const VARIABLE = await PROMISE
        </p>
    </body>
</html>